<!DOCTYPE html>
<html>
<head>
  <title>US30 PrÃ©-Market Dashboard</title>
  <style>
    body { background:#111; color:white; font-family:Arial; padding:20px; }
    h1 { color:gold; }
    .card { background:#222; padding:15px; margin:15px 0; border-radius:10px; }
    table { width:100%; border-collapse:collapse; }
    td,th { padding:6px; border-bottom:1px solid #444; }
    .green { color:lime; }
    .red { color:red; }
  </style>
</head>
<body>

<h1>ğŸ“Š US30 Institutional Pre-Market Dashboard</h1>

<div class="card">
  <h2>ğŸ“Œ GAP DO DIA</h2>
  {% for k,v in gaps.items() %}
    <p>{{ k }}: <b>{{ v }}%</b></p>
  {% endfor %}
</div>

<div class="card">
  <h2>ğŸ¢ Dow Breadth</h2>
  <p>Positivas: {{ breadth[0] }} | Negativas: {{ breadth[1] }}</p>
</div>

<div class="card">
  <h2>ğŸ¯ Volume Profile</h2>
  <p>POC: {{ poc }} | PreÃ§o Atual: {{ current }}</p>
</div>

<div class="card">
  <h2>ğŸŒ™ Overnight Structure YM</h2>
  <p>High: {{ overnight.high }}</p>
  <p>Low: {{ overnight.low }}</p>
  <p>Mid: {{ overnight.mid }}</p>
  <p>Range: {{ overnight.range }}</p>
  <p>PreÃ§o Atual: {{ overnight.current }}</p>
  <p>PosiÃ§Ã£o no Range: {{ overnight.position }}%</p>
</div>

{% for asset,tfdata in assets.items() %}
<div class="card">
  <h2>{{ asset }}</h2>
  <table>
    <tr>
      <th>TF</th><th>PreÃ§o</th><th>%</th><th>Volume</th><th>MÃ©dia</th><th>Ratio</th>
    </tr>

    {% for tf,info in tfdata.items() %}
    <tr>
      <td>{{ tf }}</td>
      <td>{{ info.price }}</td>

      {% if info.change > 0 %}
        <td class="green">+{{ info.change }}%</td>
      {% elif info.change < 0 %}
        <td class="red">{{ info.change }}%</td>
      {% else %}
        <td>0%</td>
      {% endif %}

      <td>{{ info.volume }}</td>
      <td>{{ info.avg_volume }}</td>
      <td>{{ info.vol_ratio }}x</td>
    </tr>
    {% endfor %}
  </table>
</div>
{% endfor %}

</body>
</html>
